appId: com.dineshbali18.expensetrackerapp
---
- launchApp

# Navigate to Sign In
- tapOn: "Sign in"

# Enter Email
- tapOn:
    id: "emailInput"
- inputText:
    id: "emailInput"
    text: "dineshbali45@gmail.com"

# Enter Password
- tapOn:
    id: "passwordInput"
- inputText:
    id: "passwordInput"
    text: "gamer45"

# Submit Login
- tapOn: "Login"

# Confirm Login
- tapOn: "OK"

# Assert MFA screen is visible
- assertVisible: "🔐 Two-Factor Authentication"

# Enter OTP
- tapOn:
    id: "otpInput"
- inputText:
    id: "otpInput"
    text: "123456"

# Submit OTP
- tapOn:
    id: "verifyOtpButton"

# Confirm OTP
- tapOn: "Ok"

# Check if dashboard is visible
- assertVisible: "Saving Goal"

# Navigate to Saving Goals
- tapOn: "Saving Goal"

# Open Manage Goals Modal
- tapOn:
    id: "openManageGoalsModal"

# Add New Goal
- tapOn:
    id: "savingGoalPicker"

- tapOn: "➕ Add New Goal"

- tapOn: "🏆 Goal Name"

- inputText:
    id: "goalNameInput"
    text: "Vacation"

- tapOn: "💵 Current Saved Amount"

- inputText:
    id: "currentAmountInput"
    text: "500"
- tapOn: "🎯 Total Savings Goal"
- inputText:
    id: "totalGoalInput"
    text: "2000"

- tapOn:
    id: "submitGoalButton"
- assertVisible: "✅ Add Goal"
- tapOn: "✅ Add Goal"

# Assert Goal Appears in List
- assertVisible: "🎯 Vacation: $500 / $2000.00 (25%)"

- tapOn:
    id: "savingGoalPicker"

- tapOn: "Vacation"

# Update the Goal
- tapOn: "Vacation"

- tapOn:
    id: "goalNameInput"
- eraseText
- inputText:
    id: "goalNameInput"
    text: "Trip"

- tapOn: "500"
- tapOn:
    id: "currentAmountInput"
- eraseText
- inputText:
    id: "currentAmountInput"
    text: "1000"

- tapOn:
    id: "submitGoalButton"
- assertVisible: "🔄 Update Goal"
- tapOn: "🔄 Update Goal"

# Assert Update is Reflected
- assertVisible: "🎯 Trip: $1000 / $2000.00 (50%)"



# Delete the Goal
- tapOn:
    id: "deleteGoal-69"
- assertVisible: "🔄 Update Goal"
- tapOn: "🔄 Update Goal"

# Assert Goal is Deleted
- assertNotVisible: "Trip"

# Close Modal
- tapOn:
    id: "closeSavingGoals"
